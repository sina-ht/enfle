2000-12-18  Hiroshi Takekawa  <sian@fennel.org>

	* configure.in, plugins/Makefile.am, lib/enfle/enfle-plugintype.h:
	New audio plugin.

	* plugins/player/libmpeg3/libmpeg3.c, plugins/ui/normal/normal.c,
	src/enfle.c, src/enfle.rc: New audio plugin support.

	* plugins/player/mpeg_lib/mpeg_lib.c: Request memory as normal.

	* lib/enfle/ui-extra.h: Added audio plugin.

	* lib/enfle/movie.c, lib/enfle/movie.h: Pass config and audio
	plugin.

	* plugins/audio/oss/Makefile.am, plugins/audio/oss/oss.c: New OSS
	Audio plugin.

	* lib/enfle/audio-plugin.h, lib/enfle/audio.h,
	plugins/audio/Makefile.am: New OSS audio plugin.

	* lib/X11/x11ximage.c: Fixed rendering bug.

2000-12-14  Hiroshi Takekawa  <sian@fennel.org>

	* plugins/ui/normal/normal.c: More caption message.

	* lib/enfle/movie.h, plugins/player/libmpeg3/libmpeg3.c,
	plugins/player/mng/mng.c, plugins/player/mpeg_lib/mpeg_lib.c,
	plugins/player/ungif/ungif.c: Enable magnified movie
	rendering(only libmpeg3, in effect).

	* lib/enfle/memory.h: Include a necessary header file.

2000-12-12  Hiroshi Takekawa  <sian@fennel.org>

	* lib/enfle/video.h, plugins/ui/normal/normal.c,
	plugins/video/Xlib/Xlib.c: Improved caption implementation.

	* lib/enfle/video-plugin.h: open_window() now accepts Config
	object as an argument.

	* lib/enfle/memory.c: Memory reuse code clean up.

	* src/enfle.rc: One more configuration example.

	* lib/X11/x11ximage.c: Avoid using nasm code when
	ximage->bytes_per_line != w * 2.

2000-12-10  Hiroshi Takekawa  <sian@fennel.org>

	* lib/X11/x11ximage.c, lib/enfle/image.[ch],
	lib/enfle/image_magnify.c, lib/enfle/video.h,
	plugins/ui/normal/normal.c: Implemented magnification.

	* plugins/player/libmpeg3/libmpeg3.c, plugins/player/mng/mng.c,
	plugins/player/mpeg_lib/mpeg_lib.c, plugins/player/ungif/ungif.c:
	Adapted to Image object's change.

	* plugins/video/Xlib/Xlib.c: Modifier key support.

	* src/enfle.rc: More configuration examples.

2000-12-07  Hiroshi Takekawa  <sian@fennel.org>

	* lib/X11/x11ximage.c: Recreate XImage in shmid changing.

	* plugins/video/Xlib/Xlib.c: Deleted unnecessary update on exposure.

	* plugins/player/mng/mng.c: Deleted unnecessary rendering.

	* lib/enfle/memory.c: Align allocate-size to the multiple of pagesize.

2000-12-06  Hiroshi Takekawa  <sian@fennel.org>

	* plugins/player/ungif/ungif.c: Commented out the codes to request shm.

	* plugins/player/mng/mng.c: Deleted an unused debug message.

2000-12-05  Hiroshi Takekawa  <sian@fennel.org>

	* lib/X11/x11ximage.c: Fixed rendering bug.

	* plugins/ui/normal/normal.c: Plugged memory leaks.

	* plugins/video/Xlib/Xlib.c: Removed warning.

	* lib/X11/x11ximage.c: Changed implementation to use ximage's
	bytes_per_line, because shm-ximage doesn't accept changes of its
	parameters after creation.

	* plugins/player/ungif/ungif.c, plugins/ui/normal/normal.c,
	lib/enfle/image.c, plugins/player/libmpeg3/libmpeg3.c,
	plugins/player/mng/mng.c, plugins/player/mpeg_lib/mpeg_lib.c: More
	speed improvements.

2000-12-04  Hiroshi Takekawa  <sian@fennel.org>

	* lib/X11/x11ximage.c, lib/enfle/image.[ch], lib/enfle/movie.h,
	lib/enfle/player-plugin.h, lib/enfle/video.h,
	plugins/player/libmpeg3/libmpeg3.c, plugins/player/mng/mng.c,
	plugins/player/mpeg_lib/mpeg_lib.c, plugins/player/ungif/ungif.c,
	plugins/ui/normal/normal.c, plugins/video/Xlib/Xlib.c: Implemented
	request_type and direct_decode.

	* src/enfle.rc: One more example configuration.

2000-12-03  Hiroshi Takekawa  <sian@fennel.org>

	* plugins/player/libmpeg3/libmpeg3.c, plugins/player/mng/mng.c:
	Use prefer_msb to improve performance.

	* plugins/video/Xlib/Xlib.c, lib/enfle/video.h: Added prefer_msb.

	* lib/X11/x11ximage.c: Cleanup.

	* lib/X11/x11.c, lib/X11/x11.h: Added prefer_msb.

2000-12-03  Hiroshi Takekawa  <sian@fennel.org>

	* lib/X11/x11ximage.[ch], lib/enfle/image.[ch],
	lib/enfle/image_magnify.c, lib/enfle/loader.c, lib/enfle/spi.c,
	lib/enfle/video.h, plugins/loader/bmp/bmp.c,
	plugins/loader/jpeg/jpeg.c, plugins/loader/png/png.c,
	plugins/loader/ungif/ungif.c, plugins/player/libmpeg3/libmpeg3.c,
	plugins/player/mng/mng.c, plugins/player/mpeg_lib/mpeg_lib.c,
	plugins/player/ungif/ungif.c, plugins/ui/normal/normal.c,
	plugins/video/Xlib/Xlib.c, src/enfle.c, configure.in,
	lib/X11/Makefile.am, lib/X11/x11.[ch]: Implemented MIT-SHM and
	direct-drawing support.

	* lib/enfle/Makefile.am: Added new memory.[ch].

	* lib/enfle/enfle-plugins.c: Printing a error message.

	* lib/enfle/memory.[ch], lib/enfle/memory.h: New memory object.

2000-12-02  Hiroshi Takekawa  <sian@fennel.org>

	* plugins/player/mng/mng.c: Cosmetic change.

	* plugins/video/Xlib/Xlib.c: Cleaning up introducing
	WindowResource struct.

2000-11-27  Hiroshi Takekawa  <sian@fennel.org>

	* plugins/player/mng/mng.c, plugins/ui/normal/normal.c: Cosmetic
	change.

	* plugins/video/Xlib/Xlib.c: Fixed stupid reversed logic.

	* lib/X11/x11ximage.c: Plugged a memory leak.

	* plugins/player/mng/mng.c: Rendering destination pixel type
	changed to use asm 32to16 code.

2000-11-20  Hiroshi Takekawa  <sian@fennel.org>

	* configure.in, plugins/player/Makefile.am: New mng player plugin.

	* plugins/video/Xlib/Xlib.c: Memory management.

	* plugins/player/mng/.cvsignore, plugins/player/mng/Makefile.am,
	plugins/player/mng/mng.c: Added new mng player plugin.

	* lib/utils/timer_gettimeofday.c: Create impl. instance.

	* lib/enfle/loader.c: Auto image memory freeing.

	* lib/enfle/archive.c: Fixed header includes.

	* lib/utils/timer.c: Reordering includes order.

	* lib/enfle/Makefile.am, lib/enfle/utils.c: Deleted utils.c.

	* lib/dllloader/pe_image.c: Fixed no 'const' warning.

	* lib/X11/x11ximage.c: Fixed depth24 rendering bug.

2000-11-14  Hiroshi Takekawa  <sian@fennel.org>

	* lib/dllloader/pe_image.c, lib/dllloader/pe_image.h,
	lib/dllloader/user32.c, lib/dllloader/windef.h,
	lib/enfle/archive.c, lib/enfle/enfle-plugin.c,
	lib/enfle/enfle-plugin.h, lib/enfle/enfle-plugins.c,
	lib/enfle/enfle-plugins.h, lib/enfle/image.c, lib/enfle/image.h,
	lib/enfle/spi-private.h, lib/enfle/spi.c, lib/utils/libconfig.c,
	lib/utils/libconfig.h, lib/utils/libstring.c,
	lib/utils/libstring.h, lib/utils/misc.c, lib/utils/misc.h,
	lib/utils/plugin.c, lib/utils/plugin.h, lib/utils/pluginlist.c,
	lib/utils/pluginlist.h, plugins/ui/normal/normal.c, src/enfle.c,
	lib/dllloader/export.h, lib/dllloader/kernel32.c: Removed warnings
	when -Wstrict-prototypes -Winline -Wwrite-strings is added to
	CFLAGS.

	* configure.in: Added -Wstrict-prototypes -Winline -Wwrite-strings
	to CFLAGS.

2000-11-04  Hiroshi Takekawa  <sian@fennel.org>

	* configure.in: Added -Werror to CFLAGS. Version up.

	* plugins/video/Xlib/Xlib.c: Implemented fullscreen mode.

	* src/enfle.c: Now we can disable spi plugins.

	* lib/enfle/spi.c: Changed loader_identify().

	* plugins/ui/normal/normal.c: No need to pass VideoPlugin. Use
	video_window_*(). More UI.

	* plugins/player/libmpeg3/libmpeg3.c,
	plugins/player/mpeg_lib/mpeg_lib.c, plugins/player/ungif/ungif.c:
	No need to pass VideoPlugin.

	* lib/enfle/video.h, lib/enfle/video-plugin.h: Moved VideoWindow
	codes from video-plugin.h to video.h.

	* lib/enfle/movie.c, lib/enfle/movie.h, lib/enfle/player.c,
	lib/enfle/player.h, lib/enfle/player-plugin.h: No need to pass
	VideoPlugin.

	* lib/X11/x11window.c, lib/X11/x11window.h: Added wait_mapped().

	* lib/X11/x11.c, lib/X11/x11.h: More implementation. Fixed some
	bugs.

2000-11-02  Hiroshi Takekawa  <sian@fennel.org>

	* lib/enfle/enfle-plugins.c: Fixed unload() bug.

	* src/enfle.c: Added check_and_unload().

2000-11-02  Hiroshi Takekawa  <sian@fennel.org>

	* lib/enfle/enfle-plugins.c: Plugged a memory leak.

	* lib/enfle/spi.c: Added spi plugin destroy routines.

	* lib/enfle/loader.c: Added debug message.

	* lib/dllloader/pe_image.c: module_deregister()ing.

	* lib/dllloader/windef.h: More memory related definitions.

	* lib/dllloader/module.c: Plugged a memory leak.

	* lib/dllloader/mm.h: Inlined mem_free().

	* lib/dllloader/kernel32.c: VirtualAlloc(), VirtualFree()
	implementation.

	* lib/utils/plugin.c: dmalloc work around deleted.

	* lib/enfle/player.h, src/enfle.c: Plugged a player's memory leak.

	* plugins/video/Xlib/Xlib.c: Plugged memory leaks.

	* lib/X11/x11.c: Plugged a memory leak.

2000-10-30  Hiroshi Takekawa  <sian@fennel.org>

	* plugins/ui/normal/normal.c: Fixed bug which showed wrong
	archiver type.

	* plugins/player/libmpeg3/libmpeg3.c: st->path == NULL work
	around. This occurs when stream is memory_stream.

	* lib/utils/misc.c: Fixed stupid bug.

	* lib/enfle/spi.c: Archiver spi-to-enfle bridge.

	* lib/enfle/spi-private.h: Fixed callback prototype.

	* lib/dllloader/pe_image.c: LDT support for FreeBSD. Thanks to
	Mr. Yuki Sawada.

	* lib/dllloader/msvcrt.c: Use compat.h. More implementation.

	* lib/dllloader/module.c: Use compat.h. Fixed wrong free()'ing.

	* lib/dllloader/kernel32.c: Use compat.h.

2000-10-29  Hiroshi Takekawa  <sian@fennel.org>

	* lib/enfle/Makefile.am, lib/enfle/spi-private.h, lib/enfle/spi.c:
	More spi implementations.

	* lib/utils/Makefile.am: Added misc.[ch].

	* lib/enfle/movie.c, lib/utils/timer.c, lib/utils/timer.h:
	Work-around timer_create() name collision. Thanks to Mr. TAJIRI
	Yasuhiro.

	* lib/dllloader/kernel32.c, lib/dllloader/Makefile.am,
	lib/dllloader/module.c, lib/dllloader/pe_image.c,
	lib/dllloader/user32.c, lib/dllloader/windef.h: More dll
	implementations.

	* lib/utils/misc.c, lib/utils/misc.h: New misc functions.

	* lib/dllloader/advapi32.c, lib/dllloader/advapi32.h,
	lib/dllloader/borlndmm.c, lib/dllloader/borlndmm.h: New dll
	emulation.

2000-10-28  Hiroshi Takekawa  <sian@fennel.org>

	* lib/utils/libstring.c: Fixed bug.

	* lib/enfle/archiver.c, lib/enfle/archiver-plugin.h,
	lib/enfle/enfle-plugin.c, lib/enfle/enfle-plugin.h,
	lib/enfle/enfle-plugintype.h, lib/enfle/loader.c,
	lib/enfle/loader-plugin.h, lib/enfle/Makefile.am,
	plugins/archiver/tar/tar.c, plugins/loader/bmp/bmp.c,
	plugins/loader/jpeg/jpeg.c, plugins/loader/png/png.c,
	plugins/loader/ungif/ungif.c, src/enfle.c: Susie plugin support.

	* lib/Makefile.am: Added dllloader.

	* lib/dllloader/*, lib/enfle/spi.c, lib/enfle/spi.h,
	lib/enfle/spi-private.h: Susie related dllloader and spi-to-enfle
	bridge.

2000-10-20  Hiroshi Takekawa  <sian@fennel.org>

	* configure.in: Added new plugins.

	* common.h: Added stdio.h inclusion.

	* lib/enfle/enfle-plugintype.h, lib/enfle/movie.c,
	lib/enfle/movie.h, lib/enfle/player-plugin.h, lib/enfle/player.c,
	lib/enfle/player.h, lib/enfle/ui-extra.h, lib/enfle/ui-plugin.h,
	lib/enfle/ui.c: Adapted for new video architecture.

	* lib/X11/x11window.c, lib/X11/x11window.h: Added
	set_event_mask(), get_position().

	* plugins/ui/Makefile.am: New Normal UI plugin.

	* src/enfle.c, src/enfle.rc, plugins/player/libmpeg3/libmpeg3.c,
	plugins/player/mpeg_lib/mpeg_lib.c, plugins/player/ungif/ungif.c:
	Adapt for new video architecture.

	* plugins/Makefile.am: New Video plugin implementation.

	* lib/utils/dlist.c, lib/utils/hash.c, lib/utils/libconfig.c,
	lib/utils/libstring.c, lib/utils/plugin.c,
	lib/utils/stdio-support.c: Deleted unnecessary header file
	inclusion.

	* lib/enfle/video-plugin.h, lib/enfle/video.h: New Video plugin
	implementation.

	* plugins/video/Xlib/.cvsignore, plugins/video/Xlib/Makefile.am,
	plugins/video/Xlib/Xlib.c: New Xlib Video plugin.

	* plugins/video/.cvsignore, plugins/video/Makefile.am: New Video
	plugin implementation.

	* plugins/ui/normal/.cvsignore, plugins/ui/normal/Makefile.am,
	plugins/ui/normal/normal.c: New Normal UI plugin.

2000-10-17  Hiroshi Takekawa  <sian@fennel.org>

	* lib/enfle/archiver.c, lib/enfle/archiver-extra.h,
	lib/enfle/archiver.h, lib/enfle/archiver-plugin.h,
	lib/enfle/enfle-plugin.h, lib/enfle/enfle-plugins.c,
	lib/enfle/enfle-plugins.h, lib/enfle/enfle-plugintype.h,
	lib/enfle/loader.c, lib/enfle/loader-extra.h, lib/enfle/loader.h,
	lib/enfle/loader-plugin.h, lib/enfle/Makefile.am,
	lib/enfle/player.c, lib/enfle/player.h, lib/enfle/player-plugin.h,
	lib/enfle/streamer.c, lib/enfle/streamer.h, lib/enfle/ui.c,
	lib/enfle/ui-extra.h, lib/enfle/ui.h, lib/enfle/ui-plugin.h,
	plugins/ui/Xlib/Xlib.c, src/enfle.c: New enfle plugin
	implementation.

2000-10-17  Hiroshi Takekawa  <sian@fennel.org>

	* plugins/ui/Xlib/Xlib.c (process_files_of_archive): Deleting path
	when processed archive returned with empty.

2000-10-17  Hiroshi Takekawa  <sian@fennel.org>

	* lib/enfle/movie.[ch], plugins/player/libmpeg3/libmpeg3.c: Using
	timer to calculate fps (frame per second). Dropping frame if
	actual fps is less than given fps. Implemented
	{set,get}_play_every_frame().

	* lib/enfle/ui-plugin.h (UIScreen): Added bits_per_pixel.

	* plugins/ui/Xlib/Xlib.c: Utilize new set_play_every_frame and
	bits_per_pixel(in UIScreen).

	* plugins/player/ungif/ungif.c,
	plugins/player/mpeg_lib/mpeg_lib.c: Renamed nthframe as
	current_frame.

	* lib/utils/Makefile.am: Added timer.

	* lib/X11/x11ximage.c: More rendering code.

	* lib/utils/timer*: New timer object implementation.

2000-10-15  Hiroshi Takekawa  <sian@fennel.org>

	* lib/X11/x11ximage.c: Improved rendering code.

	* plugins/ui/Xlib/Xlib.c: Deleted unnecessary debugging message.

2000-10-15  Hiroshi Takekawa  <sian@fennel.org>

	* lib/X11/x11.[ch]: Added bits_per_pixel member. More
	sophisticated Visual search.

	* lib/X11/x11ximage.c: Don't change the content of received Image.

	* plugins/player/libmpeg3/libmpeg3.c: Deleted unused error
	handling routine.

2000-10-15  Hiroshi Takekawa  <sian@fennel.org>

	* configure.in: Added pthread and libmpeg3 checking. Backup $LIBS
	to avoid linking Xlib against enfle executable.

	* src/enfle.c, src/enfle.rc: Temporizing implementation to disable
	mpeg_lib.

	* lib/utils/plugin.c: Condition out dlclose() to avoid seg. fault.

	* lib/enfle/stream.c: Setting path.

	* lib/X11/x11ximage.c: Disabled annoying debugging message.

	* plugins/ui/Xlib/Xlib.c: Faster rendering.

	* plugins/player/mpeg_lib/mpeg_lib.c: No copy image to render
	faster.

	* plugins/player/Makefile.am, plugins/player/libmpeg3/*: Added new
	libmpeg3 player plugin.

2000-10-13  Hiroshi Takekawa  <sian@fennel.org>

	* lib/X11/x11.h: Added x11_free_gc() macro.

	* plugins/player/mpeg_lib/mpeg_lib.c,
	plugins/player/ungif/ungif.c: Implemented stop_movie().

	* lib/enfle/movie.[ch], lib/enfle/player-plugin.h,
	lib/enfle/player.[ch],lib/enfle/ui-plugin.h,
	plugins/ui/Xlib/Xlib.c: Implemented double buffering.

2000-10-12  Hiroshi Takekawa  <sian@fennel.org>

	* configure.in: Added mpeg_lib checking. Fixed typo.

	* common.h: Dropped coloring.

	* plugins/player/ungif/ungif.c: Version up.

	* plugins/ui/Xlib/Xlib.c: Fixed typo.

	* plugins/player/Makefile.am, plugins/player/mpeg_lib/*: New
	mpeg_lib player plugin.

2000-10-11  Hiroshi Takekawa  <sian@fennel.org>

	* plugins/ui/Xlib/Xlib.c, plugins/player/ungif/ungif.c: More
	implementation.

	* plugins/loader/ungif/ungif.c (load_image): Fixed to use left,
	top values.

	* lib/enfle/utils.h: Include common.h.

	* lib/enfle/image.h: Deleted Disposal and Transparent.

	* lib/X11/x11.h: Added x11_free_pixmap() macro.

2000-10-10  Hiroshi Takekawa  <sian@fennel.org>

	* lib/enfle/movie.[ch], lib/enfle/player-plugin.h,
	lib/enfle/player.[ch], plugins/player/ungif/ungif.c,
	plugins/ui/Xlib/Xlib.c: More implementation of playing movie.

	* plugins/loader/ungif/ungif.c: Plugged a memory leak.

	* lib/enfle/image.h: Added Transparent and Disposal.

	* common.h: Coloring debug message.

2000-10-10  Hiroshi Takekawa  <sian@fennel.org>

	* common.h, lib/enfle/archive.c, lib/enfle/stream.c,
	lib/enfle/streamer.c, lib/utils/dlist.c, lib/utils/hash.c,
	lib/utils/libconfig.c, lib/utils/libstring.c, lib/utils/plugin.c,
	lib/utils/stdio-support.c, Makefile.am, src/enfle.c: Introduced
	compat.h.

	* lib/enfle/image.c: Cosmetic change.

	* compat.h: Added compat.h.

	* lib/enfle/Makefile.am, lib/enfle/movie.[ch]: Added movie.[ch].

	* */.cvsignore, */*/.cvsignore, */*/*/.cvsignore: Added cvsignore.

	* plugins/{loader,player}/ungif/ungif.c (identify): Loose
	identify().

2000-10-09  Hiroshi Takekawa  <sian@fennel.org>

	* plugins/player/Makefile.am, plugins/player/ungif/Makefile.am,
	plugins/player/ungif/ungif.c: New ungif player plugin.

	* aclocal.m4: Deleted auto-generated aclocal.m4.

	* lib/enfle/player.[ch], lib/enfle/player-plugin.h, configure.in,
	lib/enfle/Makefile.am, lib/enfle/ui-plugin.h, plugins/Makefile.am,
	plugins/ui/Xlib/Xlib.c, src/enfle.c: Added very preliminary player
	plugin implementation.

	* plugins/loader/bmp/bmp.c (load_image): Make sure that image
	object's variables are sanity.

	* plugins/loader/jpeg/jpeg.c (load_image): Deleted erased
	delay_usec using.

	* plugins/loader/png/png.c (load_image): Make sure that image
	object's variables are sanity.

	* plugins/loader/ungif/ungif.c (load_image): Implemented extension
	handling. UNGIF Loader now loads only 1 image.

	* lib/enfle/image.h (Image): Added background_color,
	transparent_color. Deleted delay_usec.

2000-10-02  Hiroshi Takekawa  <sian@fennel.org>

	* configure.in: Cosmetic change.

	* src/enfle.c: Fixed message.

	* src/enfle.c: Implemented preliminary option processor.

	* src/enfle.rc: Added Id expansion.

	* lib/utils/libstring.[ch]: Added new method cat_ch().

	* configure.in: Added strerror to AC_CHECK_FUNCS.

	* configure: Deleted configure, which is autogenerated by
	autoconf.

	* config.h.in: Deleted config.h.in, which is autogenerated by
	autoheader.

	* Makefile.in, */Makefile.in, */*/Makefile.in, */*/*/Makefile.in:
	Removed Makefile.in's, which are autogenerated by automake.

2000-09-30  Hiroshi Takekawa  <sian@fennel.org>

	* *: Imported enfle.dev 20000930.
